<aside
  class="fixed inset-y-0 block w-full p-0 my-4 overflow-y-auto bg-white shadow-xl xl:ml-6 max-w-64 rounded-2xl xl:left-0 xl:translate-x-0 z-50"
>
  <!-- Logo / Title -->
  <div class="h-19">
    <a
      class="block px-8 py-6 m-0 text-sm whitespace-nowrap text-slate-700"
      href="UI_Nhatuyendung_Trangchu.html"
    >
      <img
        src="../../assets/img/logo-ct.png"
        class="inline h-full max-w-full max-h-8"
        alt="logo"
      />
      <span class="ml-1 font-semibold">Nhà tuyển dụng</span>
    </a>
  </div>

  <hr
    class="h-px mt-0 bg-transparent bg-gradient-to-r from-transparent via-black/20 to-transparent"
  />

  <!-- Menu items -->
  <div
    class="items-center block w-auto max-h-screen overflow-auto h-sidenav grow basis-full"
  >
    <ul class="flex flex-col pl-0 mb-0">
      <!-- Trang chủ -->
      <li class="mt-0.5 w-full">
        <a
          class="py-2.7 text-sm mx-2 flex items-center whitespace-nowrap px-4 text-slate-700 hover:bg-gray-100 rounded-lg"
          href="UI_Nhatuyendung_Trangchu.html"
        >
          <i class="ni ni-tv-2 mr-2 text-blue-500"></i>
          <span>Trang chủ</span>
        </a>
      </li>

      <!-- Hồ sơ -->
      <li class="mt-0.5 w-full">
        <a
          class="py-2.7 text-sm mx-2 flex items-center whitespace-nowrap px-4 text-slate-700 hover:bg-gray-100 rounded-lg"
          href="UI_TD_HoSo.html"
        >
          <i class="ni ni-single-02 mr-2 text-emerald-500"></i>
          <span>Hồ sơ</span>
        </a>
      </li>

      <!-- Quản lý tin tuyển dụng -->
      <li class="mt-0.5 w-full">
        <a
          class="py-2.7 text-sm mx-2 flex items-center whitespace-nowrap px-4 text-slate-700 hover:bg-gray-100 rounded-lg"
          href="UI_TD_QuanLyTinTuyenDung.html"
        >
          <i class="ni ni-briefcase-24 mr-2 text-orange-500"></i>
          <span>Quản lý tin tuyển dụng</span>
        </a>
      </li>

      <!-- Ứng viên ứng tuyển -->
      <li class="mt-0.5 w-full">
        <a
          class="py-2.7 text-sm mx-2 flex items-center whitespace-nowrap px-4 text-slate-700 hover:bg-gray-100 rounded-lg"
          href="UI_TD_QuanLyUngVienUngTuyen.html"
        >
          <i class="ni ni-circle-08 mr-2 text-purple-500"></i>
          <span>Ứng viên ứng tuyển</span>
        </a>
      </li>

      <!-- Lịch phỏng vấn -->
      <li class="mt-0.5 w-full">
        <a
          id="navLichPhongVan"
          class="py-2.7 text-sm mx-2 flex items-center whitespace-nowrap px-4 text-slate-700 hover:bg-gray-100 rounded-lg"
          href="UI_TD_Lichphongvan.html"
          title="Tạo & quản lý lịch phỏng vấn"
        >
          <i class="ni ni-calendar-grid-58 mr-2 text-indigo-600"></i>
          <span>Lịch phỏng vấn</span>
        </a>
      </li>

      <!-- Chat -->
      <li class="mt-0.5 w-full">
        <a
          id="navChat"
          class="py-2.7 text-sm mx-2 flex items-center whitespace-nowrap px-4 text-slate-700 hover:bg-gray-100 rounded-lg"
          href="UI_TD_Chat.html"
        >
          <i class="ni ni-chat-round mr-2 text-cyan-600"></i>
          <span>Chat</span>
        </a>
      </li>

      <!-- Đăng xuất -->
      <li class="mt-0.5 w-full">
        <button
          id="btnLogout"
          class="w-[calc(100%-1rem)] ml-2 py-2.5 text-left text-sm flex items-center whitespace-nowrap px-4 text-slate-700 hover:bg-gray-100 rounded-lg cursor-pointer"
        >
          <i class="ni ni-button-power mr-2 text-red-600"></i>
          <span>Đăng xuất</span>
        </button>
      </li>
    </ul>
  </div>
</aside>

<script>
  (function () {
    const API_LOGOUT = "/Duantuyendung/interface/API/API_logout_User.php";
    const LOGIN_PAGE =
      "/Duantuyendung/interface/build/pages/UI_SignUp_TD-UV.html?logged_out=1";

    const btn = document.getElementById("btnLogout");
    if (!btn) return;

    btn.addEventListener("click", async (e) => {
      e.preventDefault();
      btn.disabled = true;
      btn.style.opacity = "0.6";
      try {
        try {
          localStorage.removeItem("auth");
          localStorage.removeItem("td_logged_in");
          localStorage.removeItem("uv_logged_in");
          localStorage.removeItem("user_email");
          localStorage.removeItem("auth_token");
          sessionStorage.clear();
        } catch (_) {}
        await fetch(API_LOGOUT, {
          method: "GET",
          credentials: "include",
          cache: "no-store",
        });
      } catch (_) {
      } finally {
        window.location.href = LOGIN_PAGE;
      }
    });
  })();
</script>
